# bc_desktop//submit/faculty.yml.erb
---
script:
  queue_name: <%= custom_queue %>
  email_on_terminated: <%= ! email_on_terminated.to_i.zero? %> <% unless email.blank? %>
  email: <%= email %> <% end %>
  
  native:
    - "-N"
    - "<%= bc_num_slots.blank? ? 1 : bc_num_slots.to_i %>"
    - "--ntasks"
    - "<%= num_cores.blank? ? 1 : num_cores.to_i %>"
    - "-C"
    - "<%= node_type %>"
    - "--mem"
    - "<%= memory %><% unless memory.blank? %><% end %>"
    - "--exclude"
    - "<%= exclude_host %><% unless exclude_host.blank? %><% end %>"
    - "--gres=gpu:<%= gpu %><% unless gpu.blank? %><% end %>"
    - "--job-name=ood-testing" 
    - "--account=ccrtech"
